# Idea Export

Re-export business idea analysis data from the current session to MD, PDF, and HTML files. This command packages analysis results generated by `/analyze-idea`, `/idea-deep-dive`, or `/idea-matrix` into formatted documents on the Desktop.

## Usage

```
/business-idea-analyzer:idea-export
/business-idea-analyzer:idea-export --format=html
/business-idea-analyzer:idea-export --format=pdf
/business-idea-analyzer:idea-export --format=md
/business-idea-analyzer:idea-export --format=all
```

### Arguments

- **--format** (optional): `all` (default), `html`, `pdf`, or `md`. Controls which output formats are generated.

Initial request: $ARGUMENTS

## Output Location

All files are saved to:
```
/mnt/c/Users/RonKlatt_3qsjg34/Desktop/Claude Code Plugin Output/Business_Analysis/
```

### File Naming

Files use the pattern: `{YYYY-MM-DD}_{slugified_idea}_{depth}_Analysis.{md|pdf|html}`

Example:
```
2026-02-09_ai-inventory-management-ebay_standard_Analysis.md
2026-02-09_ai-inventory-management-ebay_standard_Analysis.pdf
2026-02-09_ai-inventory-management-ebay_standard_Analysis.html
```

## Process

### Step 1: Locate Analysis Data

Look for the most recent business analysis data in the current session. This is the JSON payload or structured output generated by:
- `/business-idea-analyzer:analyze-idea` (full agent-based analysis with export JSON schema)
- `/business-idea-analyzer:idea-deep-dive` (PRD-level single-idea analysis)
- `/business-idea-analyzer:idea-matrix` (comparative matrix)

If no analysis data is found in the session context:
```
No business analysis data found in the current session.

To export, first run one of these:
- /business-idea-analyzer:analyze-idea [idea]     (full multi-agent analysis)
- /business-idea-analyzer:idea-deep-dive [idea]    (single-idea deep dive)
- /business-idea-analyzer:idea-matrix [ideas]      (comparative matrix)

Then run /business-idea-analyzer:idea-export to generate files.
```

### Step 2: Construct Export JSON

Build the export JSON payload matching the schema defined in `/analyze-idea`. At minimum, the payload must include:

```json
{
  "type": "business_analysis",
  "idea_description": "[idea from session]",
  "date": "YYYY-MM-DD",
  "depth": "[quick|standard|deep]",
  "operator_profile": "[solopreneur|enterprise|both]",
  "executive_summary": "[summary text]",
  "opportunities": [],
  "market_research": {},
  "competitive_analysis": {},
  "risk_register": [],
  "methodology": {}
}
```

Populate each field from the session's analysis data. If certain sections are unavailable (e.g., exporting from `/idea-matrix` which has less detail), fill with the data that is available and omit empty sections gracefully.

### Step 3: Write Temp File and Execute Export

```bash
# Write JSON payload to temp file
cat > /tmp/business_analysis_export.json << 'EXPORT_EOF'
{ ... constructed JSON payload ... }
EXPORT_EOF

# Determine the plugin scripts directory (relative to this command file)
# Run the export script
~/.claude/scripts/.venv/bin/python3 [plugin_scripts_dir]/business_analysis_export.py \
  --input /tmp/business_analysis_export.json

# Clean up
rm /tmp/business_analysis_export.json
```

The `[plugin_scripts_dir]` is the `scripts/` directory within the business-idea-analyzer plugin, located relative to this command file.

### Step 4: Report Results

Parse the export script's output for generated file paths and display:

```markdown
EXPORT COMPLETE

**Idea:** [idea description]
**Depth:** [quick/standard/deep]
**Output folder:** C:\Users\RonKlatt_3qsjg34\Desktop\Claude Code Plugin Output\Business_Analysis\

Generated files:
- MD:   [filename].md
- PDF:  [filename].pdf
- HTML: [filename].html

Windows path: C:\Users\RonKlatt_3qsjg34\Desktop\Claude Code Plugin Output\Business_Analysis\
```

If the user specified `--format` for a single format, still report which file was generated and note that other formats can be generated by re-running with `--format=all`.

If the export script fails, display the error and suggest:
```
Export failed. Check that the Python venv is set up:
  ~/.claude/scripts/.venv/bin/python3 --version
And that the export script exists in the plugin scripts directory.
```

## Rules

- This command only exports existing data. It does not perform new research or analysis.
- Must have analysis data in the current session context to export. Do not fabricate data to fill gaps.
- Always clean up the temp JSON file after export, even if the script fails.
- The export script handles file naming, folder creation, and format selection -- do not create folders manually.
- Each export generates unique filenames based on date + idea + depth, so repeated exports do not overwrite.
